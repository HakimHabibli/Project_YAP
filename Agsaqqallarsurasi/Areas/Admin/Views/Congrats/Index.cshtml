@model List<Congrats>
@{
	ViewData["Title"] = "Index";
	int count = 1;
}

<div class="d-flex justify-content-end mb-2">
	<a class="btn btn-success text-light" asp-area="Admin" asp-controller="Congrats" asp-action="Create">Create Member</a>
</div>
<div class="col-lg-12 grid-margin stretch-card">
	<div class="card">
		<div class="card-body">
			<div class="table-responsive">
				<table class="table table-striped">
					<thead>
						<tr>
							<th>
								N
							</th>
							<th>
								Tarix
							</th>
							<th>
							   Ad
							</th>
							<th>
							  Metn
							</th>
							<th>
							  Şəkil
							</th>		
							<th>
							  Yaş
							</th>
						</tr>
					</thead>
					<tbody>
						@foreach (Congrats congrat in Model)
						{
							   <tr>
								   <td>@count</td>
										   <td>@congrat.DateTime</td>
										   <td>@congrat.Description</td>
								@* <td id="fullDescription">@aparat.Description</td>  bunu yoxlayarsan 2 cumle gorunmelidi*@
									   <td><img src="~/assets/imgs/@congrat.ImagePath" style="height:150px; width:150px;" alt="News Image" /></td>
												   <td>@congrat.FullName</td>
												   <td>@congrat.Age</td>

								   <td>
										   <button class="btn btn-warning text-light m-3" asp-area="Admin" asp-controller="Congrats" asp-action="Update" asp-route-Id="@congrat.Id">
												Redakte et										
											</button>
										   <button class="btn btn-danger text-light m-3" asp-area="Admin" asp-controller="Congrats" asp-action="Delete" asp-route-Id="@congrat.Id">
									  Sil
								</button>
							</td> 
							   </tr>
							count++;
						}


					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>
<script>
	function showFirstTwoSentences() {
		let fullDescription = document.getElementById('fullDescription').innerText;
		let sentences = fullDescription.match(/[^.!?]+[.!?]+/g) || [];
		let firstTwoSentences = sentences.slice(0, 2).join(' ');
		document.getElementById('descriptionCell').innerText = firstTwoSentences;
	}

	document.addEventListener('DOMContentLoaded', (event) => {
		showFirstTwoSentences();
	});
</script>